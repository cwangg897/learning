#### 연관관계 매핑 기초
- 방향 : 단방향, 양방향
- 다중성 : 다애일, 일대달, 일대일, 다대다
- 연관관계의 주인 : 객체 양방향 관계는 연관관계의 관리 주인이 필요


#### 객체를 테이블에 맞추어 모델링할 경우 문제
Team찾는게 지저분함 객체지향 스럽지 않음
객체는 참조를 사용해서 연관된 객체를 찾지만, 지금보면은 외래키로 조인해서 테이블을 찾음
![image](https://github.com/cwangg897/learning/assets/79621675/2d25a593-7a27-461c-8aeb-af11ecb04399)


#### 단방향
```
누가 N이고 누가 1인가 Member가 N이다 맴버 엔티티 입장에서 매핑해줘야함
@ManyToOne
@JoinColumn 조인해야하는 컬럼무엇이냐 외래키를 지칭할때 해주기
```



#### 양방향 연관관계와 연관관계의 주인
```
연관된 애들을 찾을때는 객체는 참조라는걸 사용하고 테이블은 외래키를 가지고 조인을 사용한다
Team도 Member애들을 찾을때 참조로 하고싶어서 양방향 쓰는경우가있음 그럴경우 양방향을 사용하자.
사용하는 방법은 
객체에 @OneToMany이런식으로 하고 연관관계 주인을 명시해준다. mappedBy는 무엇이랑 연결되어있느가인데
외래키랑 연결해주면 된다. 객체와 테이블간의 연관관계 차이를 이해하면 알게된다
테이블을 외래키 하나로 다 해결 방향이없다. 그런데 객체는 단방향, 단뱡향이 존재해야 양방향이됨
참조를 통해 조회하는게 객체니까 그래서 mappedBy는 원래 외래키인거를 주인으로 임명해줘야한다


여기서 테이블 패러다임은 양방향이 없는게 외래키 하나로 다 해결된다. 그래서 방향이라는 개념이 없다
```

#### 객체의 양방향 관계의 진실
```
객체의 양방향은 사실은 서로다른 단 방향 관계2개이다. (참조 해야해서)
테이블은 외래키 하나로 두 테이블의 연관관계를 관리
그래서 객체에서 둘 중 하나로 외래 키 관리해야 한다 그래서 테이블에있는 외래키에있는
객체를 주인으로 함.
왜냐하면 둘다 수정하면 안되기떄문이다. 관리를 members에서 Team을 꺼내서 하지말고 Member에있는 Team으로 해라 라는것임
```
![image](https://github.com/cwangg897/learning/assets/79621675/e42ab684-6721-4948-987e-a15f948a1dde)
![image](https://github.com/cwangg897/learning/assets/79621675/d28a9776-058f-4554-8342-3d987ae2a673)

#### 그래서 누구를 주인으로?
외래키가 있는 곳을 주인으로 해라 (가이드임)

#### 양방향 매핑시 가장 많이 하는 실수
```
주인이 아닌것은 읽기 전용이다
그래서 외래키를 넣는다고 들어가지 않는다
```

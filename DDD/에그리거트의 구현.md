

### 트랜잭션
```
트랜잭션 범위는 가능한 짧게 하는것이 좋다. 
제일 좋은 예시는 한 트랜잭션은 하나의 애그리거트를 수정하는 것이다.
그렇다면 왜 범위를 짧게해야하는가?
성능차이도 있다 lock을 걸기떄문에 한행에만 걸리지만 여러테입르에 걸리면 처리량을 떨어뜨린다.
그리고 충돌발생할 간으성이 높아지기 때문에 한번에 수정하는 애그리거트 개수가 많아질수록 전체 처리량이 떨어진다.
```

### 부득이하게 한 트랜잭션에서 두 개 이상의 애그리거트 수정
```
이런경우는 애그리거트에서 다른 애그리거트를 수정하지 말고 응용 서비스에서
두 애그리거트를 수정하도록 구현한다.
즉 도메인 내에서 도메인을 수정이 아니라(도메인 -> 도메인 수정)  이것을 따로 빼서 하나의 (도메인 수정 + 도메인 수정)

도메인 이벤트를 사용하면 (이말은 10장에서 나옴)장점 동기나 비동기로 다른 애그리거트의 상태를 변경하는 코드를 작성할 수 있다.
```

### 의문
```java
Order oder1
Order oder2
Order oder3
이것은 애그리거트가 3개라고 볼 수 있는것인가 책에서주문 목록 화면에서 여러 주문의 상태를 한번의 변경하고 싶은경우
한 트랜잭션에서 여러 주문 애그리거트의 상태를 변경해야한다고 한다.
```
